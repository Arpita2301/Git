utility function for verson 2